<template>
  <section id="feedback">
    <div class="container">
      <div class="title">
        <h2>–û—Ç–∑—ã–≤—ã –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>
      </div>
      <div class="feedback-wrapper__container">
        <div class="feedback-wrapper">
          <div class="swiper-wrapper">
            <div v-for="(feed, i) in feedbacks" :key="i" class="swiper-slide">
              <div class="feedback-item">
                <div class="feedback-item__img">
                  <ImageLazy
                    :alt="'–û—Ç–∑—ã–≤ –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ –∫—Ä—É–≥–ª—É—é –±—É—Ä–∂—É–π–∫—É VITA'"
                    :src="feed.img"
                    :srcMedia="992"
                  />
                </div>
                <div class="feedback-item__line">
                  <div class="gorizontal-line"></div>
                </div>

                <div class="feedback-item__btn">
                  <div class="link-flash" @click="read(i)">–ß–∏—Ç–∞—Ç—å –æ—Ç–∑—ã–≤</div>
                </div>
              </div>
            </div>
          </div>

          <SwiperNavigation
            navClass="feedback-navigation"
            prevClass="feedback-btn__prev"
            nextClass="feedback-btn__next"
          />
        </div>
      </div>
      <div class="feedback-button">
        <button :disabled="getReview" @click="openModal()" class="button">
          <span class="button-background"></span>
          <span class="button-text">{{
            getReview ? "–û—Ç–∑—ã–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω" : "–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤"
          }}</span>
        </button>
      </div>
    </div>

    <div v-if="modalContent" id="feedback-modal" style="display: none">
      <p v-html="modalContent"></p>
    </div>
  </section>
</template>

<script>
import SwiperNavigation from "../helpers/SwiperNavigation.vue";
import { Swiper, Navigation } from "swiper";
import ImageLazy from "../helpers/ImageLazy.vue";
import { mapMutations, mapGetters } from "vuex";

export default {
  data() {
    return {
      modalContent: "",
      feedbacks: [
        {
          img: "feedback-item-1",
          text: `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ö—É–ø–∏–ª –ø–µ—á—å –±—É—Ä–∂—É–π–∫—É –¥–ª—è –¥–∞—á–∏ –µ—â–µ –≤ –ø—Ä–æ—à–ª–æ–º –º–µ—Å—è—Ü–µ. –í—ã–±–∏—Ä–∞–ª, —á—Ç–æ–±—ã –∏ —Å–º–æ—Ç—Ä–µ–ª–∞—Å—å —Ö–æ—Ä–æ—à–æ, –∏ —Ç–µ–ø–ª–æ –¥–µ—Ä–∂–∞–ª–∞. –£—Å—Ç–∞–Ω–æ–≤–∏–ª —Å–∞–º, –¥–æ–º–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –≥–æ–≤–æ—Ä–∏–ª. –ê 8 –º–∞—Ä—Ç–∞ –ø–æ–µ—Ö–∞–ª–∏ –Ω–∞ —à–∞—à–ª—ã–∫–∏. –ñ–µ–Ω–∞ –∫–æ–≥–¥–∞ –µ–µ —É–≤–∏–¥–µ–ª–∞, –ø–æ–ª–¥–Ω—è –≤–æ–∫—Ä—É–≥ —Ö–æ–¥–∏–ª–∞ –ª—é–±–æ–≤–∞–ª–∞—Å—å. –í–µ—á–µ—Ä–æ–º —Ä–∞—Å—Ç–æ–ø–∏–ª–∏. –¢–µ–ø–ª–æ, —Å–∏–¥–∏–º, –æ–≥–Ω—ë–º –ª—é–±—É–µ–º—Å—è —á–µ—Ä–µ–∑ —Å—Ç–µ–∫–ª—è–Ω–Ω—É—é –¥–≤–µ—Ä—Ü—É. –í—Å–µ —Ö–æ—Ä–æ—à–æ, –≥—Ä–µ–µ—Ç, –¥—ã–º –≤ –∫–æ–º–Ω–∞—Ç—ã –Ω–µ –∏–¥—ë—Ç. –ò –∫—Ä–∞—Å–∏–≤–∞—è, –ø—Ä–∏—è—Ç–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å. –°–µ–π—á–∞—Å –¥—É–º–∞—é –∫ –ª–µ—Ç—É –µ—â—ë —Ç—Ä—É–±—ã –æ–±–Ω–æ–≤–∏—Ç—å. –ù–µ –Ω–∞—à—ë–ª –≤ –º–∞–≥–∞–∑–∏–Ω–µ. –¢–∞–∫ —á—Ç–æ –ø–æ–∫—É–ø–∫–æ–π –æ—á–µ–Ω—å –¥–æ–≤–æ–ª–µ–Ω, —Å–ø–∞—Å–∏–±–æ –≤–∞–º!`,
        },

        {
          img: "feedback-item-2",
          text: `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –í—ã –ø—Ä–æ—Å–∏–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –æ –æ—Ç–∑—ã–≤ –æ –±—É—Ä–∂—É–π–∫–µ –í–∏—Ç–∞. –ù–∞ –ø—Ä–æ—à–ª–æ–π –Ω–µ–¥–µ–ª–µ –º—ã –∑–∞–±—Ä–∞–ª–∏ –Ω–∞—à –∑–∞–∫–∞–∑ –Ω–∞ –ø—É–Ω–∫—Ç–µ –≤—ã–¥–∞—á–∏. –ü–æ–∫—É–ø–∞–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é, –≤ –∑–∞–≥–æ—Ä–æ–¥–Ω—ã–π –¥–æ–º. –£–ø–∞–∫–æ–≤–∞–Ω–∞ –±—ã–ª–∞ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ, –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –≤ –∫–æ—Ä–æ–±–∫–µ –∏ —Å –ø—É–ø—ã—Ä–∫–æ–π. –í–º—è—Ç–∏–Ω –Ω–∞ –º–µ—Ç–∞–ª–ª–µ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ.–¢–µ–º –∂–µ –≤–µ—á–µ—Ä–æ–º –º—É–∂ —É—Å—Ç–∞–Ω–æ–≤–∏–ª –±—É—Ä–∂—É–π–∫—É –Ω–∞ –º–µ—Å—Ç–æ. –ü—Ä–æ—Ç–æ–ø–∏–ª–∏ —Å—Ä–∞–∑—É. –ü–æ–Ω–∞—á–∞–ª—É –∑–∞–ø–∞—Ö —á—É–≤—Å—Ç–≤–æ–≤–∞–ª—Å—è –Ω–µ–ø—Ä–∏—è—Ç–Ω—ã–π, –Ω–æ —Å–µ–π—á–∞—Å —É–∂–µ –≤—ã–≤–µ—Ç—Ä–∏–ª—Å—è. –í –∏–Ω—Ç–µ—Ä—å–µ—Ä –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ –≤–ø–∏—Å–∞–ª–∞—Å—å, –≥–ª–∞–∑–∞ —Ä–∞–¥—É—é—Ç—Å—è. –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Å–ø–∞—Å–∏–±–æ –º–µ–Ω–µ–¥–∂–µ—Ä—É –°–≤–µ—Ç–ª–∞–Ω–µ, –ø–æ–º–æ–≥–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è —Å –≤—ã–±–æ—Ä–æ–º!`,
        },

        {
          img: "feedback-item-3",
          text: `–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –í—ã –ø—Ä–æ –±—É—Ä–∂—É–π–∫—É –í–∏—Ç–∞, –¥–∞? –í—Å—ë –æ—Ç–ª–∏—á–Ω–æüëç –Ø —É–∂–µ –∏ –∑–∞–±—ã–ª –ø—Ä–æ –≤–∞—Å. –°–µ–π—á–∞—Å –≤—Å—ë –Ω–∞–ø–∏—à—É. –ü—Ä–∏—à–ª–∞ –ø–µ—á–∫–∞ –º–µ—Å—è—Ü –Ω–∞–∑–∞–¥, –≤—Å–µ —Ü–µ–ª–æ–µ. –£—Å—Ç–∞–Ω–æ–≤–∏–ª —è –µ—ë, –ø—Ä–æ—Ç–æ–ø–∏–ª –Ω–∞ —É–ª–∏—Ü–µ, –∫–∞–∫ –≤—ã —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª–∏. –ü–æ—Ç–æ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏–Ω–µ—Å –≤ –¥–æ–º –Ω–∞ –¥–∞—á—É. –î–∏–∑–∞–π–Ω —É –Ω–µ–µ –Ω—Ä–∞–≤–∏—Ç—Å—è, –µ—Å—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ—Å—Ç—å. –°–æ—Å–µ–¥—É –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å, –æ—Ç–¥–∞–ª –µ–º—É –∫—É–ø–æ–Ω –Ω–∞ —Å–∫–∏–¥–∫—É, –∫—É–ø–∏—Ç —Å–µ–±–µ —Ç–∞–∫—É—é –∂–µ —É –≤–∞—Å.`,
        },

        {
          img: "feedback-item-4",
          text: `–ê, –∑–Ω–∞—á–∏—Ç, —ç—Ç–æ –º–Ω–µ –ø–æ–≤–µ–∑–ª–æ. –£ –º–µ–Ω—è –±—É—Ä–∂—É–π–∫–∞ –í–∏—Ç–∞ –º–∏–Ω–∏. –í –≥–∞—Ä–∞–∂, –≤ –º–∞—Å—Ç–µ—Ä—Å–∫—É—é, —è –º–∞—à–∏–Ω—ã —Å—Ç–∞—Ä—ã–µ —Ä–µ–º–æ–Ω—Ç–∏—Ä—É—é. –°–µ–π—á–∞—Å –∂–µ, –∑–Ω–∞–µ—Ç–µ, —Å —ç—Ç–∏–º–∏ —Å–∞–Ω–∫—Ü–∏—è–º–∏ –∫–∞–∫ —Ü–µ–Ω—ã –ø–æ–¥—Å–∫–æ—á–∏–ª–∏? –ù—É —ç—Ç–æ –≤–∞–º –Ω–µ –Ω–∞–¥–æ. –í –æ–±—â–µ–º, –±–∏–∑–Ω–µ—Å —É –º–µ–Ω—è. –ê –∫–æ–≥–¥–∞ –∑–∏–º–æ–π –ø—Ä–∏—à–ª–∏ —Å—á–µ—Ç–∞ –∑–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ.. –º–∞—Ç—å –º–æ—è –∂–µ–Ω—â–∏–Ω–∞! –ù–µ—Ç, –¥—É–º–∞—é, —Ç–∞–∫ –Ω–µ –ø–æ–π–¥–µ—Ç, —Ä–∞—Å—Ö–æ–¥—ã —Å–æ–∫—Ä–∞—â–∞—Ç—å –Ω–∞–¥–æ. –ü–æ—Ö–æ–¥–∏–ª –ø–æ —Å–∞–π—Ç–∞–º, —Å—Ä–∞–≤–Ω–∏–ª –∏ –∫—É–ø–∏–ª –≤–∞—à—É –í–∏—Ç—É –¥–ª—è –º–∞—Å—Ç–µ—Ä—Å–∫–æ–π. –í–∑—è–ª —Å—Ä–∞–∑—É —Ç–µ–ø–ª–æ–æ–±–º–µ–Ω–Ω–∏–∫ –∫ –Ω–µ–π —á—Ç–æ–± –µ—â—ë –∏ –≤–æ–¥—É –≥—Ä–µ–ª–∞. –ò –∑–Ω–∞–µ—Ç–µ —á—Ç–æ? –Ø –¥–æ–≤–æ–ª–µ–Ω. –•–æ—Ç—å –Ω–µ–±–æ–ª—å—à–∞—è, –∞ —ç–∫–æ–Ω–æ–º–∏—è. –ü–æ–∫—É–ø–∞—Ç–µ–ª–∏ —Å—Ä–∞–∑—É –∑–∞–º–µ—á–∞—é—Ç, —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç, –≥–¥–µ —Ç–∞–∫—É—é –∫—É–ø–∏–ª? –ê —è –º–æ–ª, —Ç–∞–∫ –∏ —Ç–∞–∫, –≤ —Ç–∞–∫–æ–º-—Ç–æ –º–∞–≥–∞–∑–∏–Ω–µ. –í –æ–±—â–µ–º, –ø–æ—Ä–∞ –º–Ω–µ –∑–∞ —Ä–µ–∫–ª–∞–º—É –¥–æ–ø–ª–∞—á–∏–≤–∞—Ç—å, –≤–∞—à—É —Ä–∞–±–æ—Ç—É –¥–µ–ª–∞—é!`,
        },

        {
          img: "feedback-item-5",
          text: `–î–æ–±—Ä—ã–π! –î–∞, –≤—Å—ë –æ–∫, –ø–æ–ª—É—á–∏–ª, –±—É—Ä–∂—É–π–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù—É –∞ —á—Ç–æ —Å –Ω–µ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ç–∞–∫? –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø—Ä–æ—Å—Ç–∞—è, –Ω–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∂–µ. –ù–µ –ø–æ–º—è—Ç–∞—è, —Å–∫–æ–ª–æ–≤ –∫—Ä–∞—Å–∫–∏ —Ç–æ–∂–µ –Ω–µ—Ç. –¢–æ–ø–ª—é - –≥—Ä–µ–µ—Ç, –≤—Å–µ –∫–∞–∫ –ø–æ–ª–æ–∂–µ–Ω–æ –ø–µ—á–∫–µ. –î–∏–∑–∞–π–Ω –º–Ω–µ –µ—â—ë –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è, –Ω–æ –≤–∂–∏–≤—É—é –≤–æ–æ–±—â–µ –∫–ª–∞—Å—Å–Ω–∞—è. –°–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ –≤–ø–µ—á–∞—Ç–ª—è–µ—Ç, –≤—ã –ø—Ä—è–º –º–µ–≥–∞-—ç–∫—Å–ø—Ä–µ—Å—Å. —Ä–µ—Å–ø–µ–∫—Ç. –ó–∞ –¥–≤–∞ –¥–Ω—è –ø—Ä–∏–≤–µ–∑–ª–∏, —è –¥–∞–∂–µ –º–µ—Å—Ç–æ –ø–æ–¥ –Ω–µ–µ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å –Ω–µ —É—Å–ø–µ–ª!`,
        },

        {
          img: "feedback-item-6",
          text: `–î–æ–±—Ä–æ–≥–æ! –í—ã –∑–Ω–∞–µ—Ç–µ, —è –¥–æ–ª–≥–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–ª –ø–æ–∫—É–ø–∫—É –Ω–æ–≤–æ–π –ø–µ—á–∏, –ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è —ç–ª–µ–∫—Ç—Ä–æ–æ–±–æ–≥—Ä–µ–≤–∞—Ç–µ–ª–µ–º. –í –≥–∞—Ä–∞–∂–µ —É –º–µ–Ω—è —É–∂–µ –ø—ã–ª–∏–ª–∞—Å—å —Å–∞–º–æ–¥–µ–ª—å–Ω–∞—è –±—É—Ä–∂—É–π–∫–∞ –∏–∑ –±–∞–ª–ª–æ–Ω–∞, –µ—â–µ —Å–æ –≤—Ä–µ–º–µ–Ω –°–°–°–†. –ù–µ –ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –µ–π, –∂—Ä—ë—Ç –º–Ω–æ–≥–æ, –∞ —Ç–µ–ø–ª–∞ –Ω–µ –ø—Ä–∏–±—ã–≤–∞–µ—Ç. –ê –±—É—Ä–∂—É–π–∫—É –í–∏—Ç–∞ —É–≤–∏–¥–µ–ª –≤ —Ä–µ–∫–ª–∞–º–µ, –ø–æ—Å–º–æ—Ç—Ä–µ–ª, –¥—É–º–∞—é, –∞ —á–µ–≥–æ —Ç—è–Ω—É—Ç—å? –¶–µ–Ω–∞ –≤–ø–æ–ª–Ω–µ –∞–¥–µ–∫–≤–∞—Ç–Ω–∞—è, –∏ —Å –∫–æ–Ω–≤–µ–∫—Ç–æ—Ä–∞–º–∏ —Å—Ä–∞–∑—É. –í –æ–±—â–µ–º, —Å–¥–µ–ª–∞–ª —Å–∞–º —Å–µ–±–µ –ø–æ–¥–∞—Ä–æ–∫, —É—Å—Ç–∞–Ω–æ–≤–∏–ª –≤ –≥–∞—Ä–∞–∂–µ. –¢–æ–ø–ª—é –¥–µ—Ä–µ–≤–æ–º, –ø—Ä–æ–≥—Ä–µ–≤–∞–µ—Ç—Å—è –≤–æ–∑–¥—É—Ö –±—ã—Å—Ç—Ä–æ, —Ç—è–≥—É —Ä–µ–≥—É–ª–∏—Ä—É—é —á–µ—Ä–µ–∑ –∑–æ–ª—å–Ω–∏–∫, —á—Ç–æ–±—ã –∂–∞—Ä–∞ –Ω–∞–¥–æ–ª–≥–æ —Ö–≤–∞—Ç–∏–ª–æ. –ú–µ—Ç–∞–ª–ª —Ç–æ–ª—Å—Ç—ã–π, –Ω–∞–¥–µ—é—Å—å, –Ω–µ —Å–∫–æ—Ä–æ –ø—Ä–æ–≥–æ—Ä–∏—Ç. –î–∞ –∏ –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –º–µ–Ω—å—à–µ. –í—Å–µ–º –¥–æ–≤–æ–ª–µ–Ω!`,
        },

        {
          img: "feedback-item-7",
          text: `–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é. –ü–æ–ª—É—á–∏–ª –±—É—Ä–∂—É–π–∫—É –í–∏—Ç–∞ –º–∏–Ω–∏, –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏—è, –∫–∞–∫ –∏ –∑–∞–∫–∞–∑—ã–≤–∞–ª. –ü–µ—á—å —á—Ç–æ –Ω–∞–¥–æ! –°–∞–º–æ–µ —Ç–æ —Å —Å–æ–±–æ–π –≤–æ–∑–∏—Ç—å. –ü–∞—Ä—É —Ä–∞–∑ –ø—Ä–æ—Ç–æ–ø–∏–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω—É –∏ –æ–±–∂–µ—á—å –ø—ã–ª—å. –ì–æ—Ä—è—á–∏–π –≤–æ–∑–¥—É—Ö —Ö–æ—Ä–æ—à–æ –≥–æ–Ω—è–µ—Ç! –ú–∞–ª–µ–Ω—å–∫–∞—è, –∫–∞–∫ –∏–≥—Ä—É—à–µ—á–Ω–∞—è, –∞ –∂–∞—Ä—É –¥–∞–µ—Ç, —è –æ—Ñ–∏–≥–µ–ª. –ë—É—Ä–∂—É–π–∫—É –Ω–∞ —Ä—ã–±–∞–ª–∫—É —Å —Å–æ–±–æ–π –≤–æ–∑–∏—Ç—å –±—É–¥—É –∏ –≤ –ø–æ—Ö–æ–¥—ã. –í–µ—Å–Ω–æ–π –Ω–æ—á–∏ —Ö–æ–ª–æ–¥–Ω—ã–µ. –ì–æ—Ç–æ–≤–ª—é —è –æ–±—ã—á–Ω–æ –Ω–∞ –∫–æ—Å—Ç—Ä–µ, –≤ –∫–æ—Ç–µ–ª–∫–µ, –∞ –≤–æ—Ç –≤ –ø–∞–ª–∞—Ç–∫–µ –∫ —É—Ç—Ä—É –≤–æ–æ–±—â–µ –¥—É–±–∞–∫. –°–µ–π—á–∞—Å –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞, —Å–ø–∞—Å–∏–±–æ!`,
        },

        {
          img: "feedback-item-8",
          text: `–ò –≤–∞–º –¥–æ–±—Ä–æ–≥–æ –¥–Ω—è! –î–∞, –≤—Å—ë –ø–æ–ª—É—á–∏–ª, —Å–ø–∞—Å–∏–±–æ) –ë—É—Ä–∂—É–π–∫—É –ø–æ–∫—É–ø–∞–ª –Ω–µ —Å–µ–±–µ, –∞ –±–∞—Ç–µ. –í –ø–æ–¥–∞—Ä–æ–∫, –ø–æ—ç—Ç–æ–º—É –≤—ã–±–∏—Ä–∞–ª –∫—Ä–∞—Å–∏–≤—É—é, –Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —Å—É–º–º—ã. –£ –æ—Ç—Ü–∞ –¥–æ–º —á–∞—Å—Ç–Ω—ã–π, –≥–∞–∑–æ–≤–∞—è –∫–æ—Ç–µ–ª—å–Ω–∞—è –≤–Ω–∏–∑—É. –í —Ç–æ–º –≥–æ–¥—É —Å–¥–µ–ª–∞–ª –ø—Ä–∏—Å—Ç—Ä–æ–π, –º–∞—Å—Ç–µ—Ä—Å–∫—É—é —Ä–∞—Å—à–∏—Ä–∏–ª. –¢–∞–º –±—ã–ª–æ —Ö–æ–ª–æ–¥–Ω–µ–µ, —á–µ–º –≤ –¥—Ä—É–≥–∏—Ö –ø–æ–º–µ—â–µ–Ω–∏—è—Ö. –û–Ω —É–∂–µ –ø–æ–¥—É–º—ã–≤–∞–ª –æ—Ç–æ–ø–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—å, –∞ —Ç—É—Ç —è –∑–∞—è–≤–ª—è—é—Å—å —Å –ø–µ—á–∫–æ–π üòÑ –ë–∞—Ç—è –æ—Ü–µ–Ω–∏–ª: –≤ –æ–±—â–∏–π –ª–æ—Ñ—Ç–æ–≤—ã–π —Å—Ç–∏–ª—å –±—É—Ä–∂—É–π–∫–∞ –≤–ø–∏—Å–∞–ª–∞—Å—å, —Ç–µ–ø–ª–æ –¥–∞—ë—Ç –∏ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–¥–æ. –í –æ–±—â–µ–º, —Å–ø–∞—Å–∏–±–æ –≤–∞–º, –∏ –æ—Ç –Ω–µ–≥–æ —Ç–æ–∂–µüëç`,
        },
      ],
    };
  },
  computed: mapGetters(["getReview"]),
  methods: {
    ...mapMutations(["openModalFeedback"]),

    openModal() {
      this.openModalFeedback();

      setTimeout(() => {
        Fancybox.show([
          {
            src: "#modal-feedback",
          },
        ]);
      }, 10);
    },

    read(i) {
      this.modalContent = this.feedbacks[i].text;
      setTimeout(() => {
        Fancybox.show([
          {
            src: "#feedback-modal",
          },
        ]);
      }, 10);
    },
  },
  mounted() {
    const swiper = new Swiper(".feedback-wrapper", {
      grabCursor: true,
      loop: true,
      navigation: {
        nextEl: ".feedback-btn__next",
        prevEl: ".feedback-btn__prev",
      },

      breakpoints: {
        1280: {
          slidesPerView: 3,
          slidesPerGroup: 1,
          spaceBetween: 30,
        },

        993: {
          slidesPerView: 3,
          slidesPerGroup: 1,
          spaceBetween: 20,
        },

        769: {
          slidesPerView: 2,
          spaceBetween: 20,
        },

        0: {
          slidesPerView: 1,
          spaceBetween: 20,
        },
      },
      modules: [Navigation],
    });
  },
  components: {
    SwiperNavigation,
    ImageLazy,
  },
};
</script>

<style lang="scss">
@import "../../scss/_global.scss";

@mixin paddingContent() {
  padding: 0 30px 50px;

  @media (max-width: 1280px) {
    padding: 0 30px 40px;
  }

  @media (max-width: 1024px) {
    padding: 0 20px 30px;
  }

  @media (max-width: 768px) {
    padding-bottom: 95px;
  }
}

#feedback {
  overflow: hidden;
  @extend %indent-p;

  .feedback-wrapper {
    padding: 0 10px;
    @media (min-width: 769px) {
      padding: 0 20px;
      margin: 10px 50px;
    }
    &__container {
      position: relative;
    }

    .swiper-wrapper {
      padding-bottom: 50px;

      @media (max-width: 992px) {
        padding-bottom: 40px;
      }

      .swiper-slide {
        opacity: 0;
        transition: opacity 0.1s 0s;

        &-active {
          opacity: 1;
        }

        @media (min-width: 993px) {
          &-next + .swiper-slide {
            opacity: 1;
          }
        }

        @media (min-width: 769px) {
          &-next {
            opacity: 1;
          }
        }
      }
    }

    .feedback-navigation {
      @media (max-width: 768px) {
        position: absolute;
        display: flex;
        justify-content: space-between;
        top: auto;
        bottom: 20px;
        transform: translateY(calc(-60px)) translateX(-50%);
        left: 50%;
        width: 130px;
      }

      .feedback-btn__prev,
      .feedback-btn__next {
        position: absolute;
        z-index: 5;
        top: 50%;
        transform: translateY(calc(-50% - 60px));

        @media (max-width: 768px) {
          position: static;
          transform: translateY(0);
          left: auto;
          right: auto;
        }
      }

      .feedback-btn__prev {
        left: 0px;
      }

      .feedback-btn__next {
        right: 0px;
      }
    }
  }

  .feedback-item {
    overflow: hidden;
    @extend %shadow-block;
    // box-shadow: 5px 15px 20px rgba(0, 0, 0, 0.1);
    height: auto;
    display: flex;
    flex-direction: column;
    gap: 30px;

    @media (max-width: 992px) {
      // box-shadow: 5px 15px 15px rgb(0 0 0 / 10%);
      gap: 20px;
    }

    @media (max-width: 768px) {
      max-width: 300px;
      margin: 0 auto;
    }

    &__line {
      @include paddingContent();
      padding-bottom: 0 !important;
    }

    &__btn {
      @include paddingContent();
      display: flex;
      justify-content: center;

      .link-flash {
        font-family: "Roboto";
        font-style: normal;
        font-weight: 400;
        font-size: 22px;
        line-height: 115%;
        white-space: nowrap;
        text-align: center;

        @media (max-width: 768px) {
          font-size: 16px;
        }
        @include fluidFontSize(14, 22, 320, 1920);
        @include linkHover($gray);
      }
    }

    &__img {
      img {
        display: block;
        width: 100%;
      }
    }
  }

  .feedback-button {
    button {
      @extend %button;
      margin: 0 auto;
    }
  }
}

#feedback-modal {
  max-width: 615px;
  width: 100%;
  padding: 30px 25px 20px;
  font-family: "Roboto";
  font-style: normal;
  font-weight: 400;
  font-size: 24px;
  line-height: 125%;
  color: #323232;
  border-radius: 20px;

  @media (max-width: 768px) {
    padding: 30px 10px 10px;
    font-size: 16px;
    border-radius: 16px;
  }

  @include fluidFontSize(14, 24, 320, 1920);
}
</style>
