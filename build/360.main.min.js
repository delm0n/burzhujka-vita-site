"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[360],{360:function(e,t,r){r.r(t),r.d(t,{default:function(){return C}});var n=r(584),o=r(170),i=r(435),a={id:"modal-feedback"},l=(0,n._)("h3",null,[(0,n.Uk)(" Напишите отзыв "),(0,n._)("br"),(0,n.Uk)(" о товаре ")],-1),u={class:"inputs-container"},s=["disabled"],c=[(0,n._)("span",{class:"button-background"},null,-1),(0,n._)("span",{class:"button-text"},"Написать отзыв",-1)],d=(0,n._)("div",{class:"decr"}," Нажимая на кнопку «Написать отзыв», вы соглашаетесь на обработку персональных данных, а также с политикой конфиденциальности ",-1);var p=r(968),f=["disabled"],m={class:"drop-zoon__text-wrap"},g=[(0,n._)("p",{class:"drop-zoon__paragraph"}," Нажмите, чтобы добавить файлы к сообщению. ",-1),(0,n._)("p",{class:"drop-zoon__comment"}," Можно добавить до 5 файлов с разрешением jpg, jpeg, bmp, gif, png и размером до 512Кбайт. ",-1)],h={key:0,class:"dropZoon__img-container"},v=["src"],b=["onClick"],y=[(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 8 8",fill:"none"},[(0,n._)("path",{d:"M1 1L7.2 7.2",stroke:"#1E1E1E","stroke-width":"1.45","stroke-linecap":"round"}),(0,n._)("path",{d:"M1 7.2L7.2 1",stroke:"#1E1E1E","stroke-width":"1.45","stroke-linecap":"round"})],-1)];var w={mixins:[{methods:{beforeEnter:function(e){e.style.height="0"},enter:function(e){e.style.height=e.scrollHeight+"px"},beforeLeave:function(e){e.style.height=e.scrollHeight+"px"},leave:function(e){e.style.height="0"}}}],data:function(){return{uploadImg:[]}},computed:{imgsLength:function(){return this.uploadImg.length<5}},directives:{tabindex:{inserted:function(e){e.setAttribute("tabindex",0)}}},methods:{onFileChange:function(e){if(this.uploadImg.length<5){var t=e.target.files||e.dataTransfer.files;if(t[0].size>512e3)return void alert("Максимальный размер файла 512Кбайт");if(!t.length)return;this.createImage(t[0]),e.target.value=""}else e.preventDefault()},createImage:function(e){var t=new FileReader,r=this;t.onload=function(t){r.uploadImg.push({id:Date.now(),name:e.name,size:e.size,src:t.target.result})},t.readAsDataURL(e)},deleteImg:function(e){var t=this.uploadImg.findIndex((function(t){return t.id==e}));t>=0&&this.uploadImg.splice(t,1)}}},_=r(983);const x=(0,_.Z)(w,[["render",function(e,t,r,a,l,u){var s=(0,n.Q2)("tabindex");return(0,n.wg)(),(0,n.iD)("div",{id:"uploadArea",class:(0,i.C_)(["upload-area",{"upload-area_enabel":u.imgsLength}])},[(0,n.wy)((0,n._)("input",{onChange:t[0]||(t[0]=function(){return u.onFileChange&&u.onFileChange.apply(u,arguments)}),type:"file",class:"drop-zoon__file-input",accept:"image/*",disabled:!u.imgsLength},null,40,f),[[s]]),(0,n.Wm)(o.uT,{name:"drop-text",onBeforeEnter:e.beforeEnter,onEnter:e.enter,onBeforeLeave:e.beforeLeave,onLeave:e.leave,persisted:""},{default:(0,n.w5)((function(){return[(0,n.wy)((0,n._)("div",m,g,512),[[o.F8,u.imgsLength]])]})),_:1},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"]),(0,n.Wm)(o.uT,{name:"drop-img",onBeforeEnter:e.beforeEnter,onEnter:e.enter,onBeforeLeave:e.beforeLeave,onLeave:e.leave},{default:(0,n.w5)((function(){return[l.uploadImg.length?((0,n.wg)(),(0,n.iD)("div",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.uploadImg,(function(e){return(0,n.wg)(),(0,n.iD)("div",{key:e.id,class:"dropZoon__img-item",onClick:t[1]||(t[1]=(0,o.iM)((function(){}),["prevent"]))},[(0,n._)("img",{style:{width:"100",height:"100"},class:"Image-input__image",src:e.src},null,8,v),(0,n._)("button",{onClick:(0,o.iM)((function(t){return u.deleteImg(e.id)}),["prevent"])},y,8,b)])})),128))])):(0,n.kq)("v-if",!0)]})),_:1},8,["onBeforeEnter","onEnter","onBeforeLeave","onLeave"])],2)}]]);var k=x;function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j={data:function(){return{email:"",text:"",city:"",name:"",errors:{email:!1,text:!1}}},directives:{tabindex:{inserted:function(e){e.setAttribute("tabindex",0)}}},computed:(0,p.Se)(["getModalFeedback"]),methods:L(L({validateForm:function(){this.emailError(),this.textError();var e=!0;for(var t in this.errors)this.errors[t]&&(e=!1);e&&(Fancybox.close(),this.openModalSuccess("Ваш отзыв отправлен."),this.writeReview(),Fancybox.show([{src:"#modal-success"}]))}},(0,p.OI)(["openModalSuccess","writeReview"])),{},{emailError:function(){/^[^@]+@\w+(\.\w+)+\w$/.test(this.email)?this.errors.email=!1:(this.errors.email=!0,alert("Email указан не корректно"))},textError:function(){this.text.length<10?(this.errors.text=!0,alert("Отзыв должен содержать минимум 10 символов")):this.errors.text=!1}}),components:{InputFile:k}};var C=(0,_.Z)(j,[["render",function(e,t,r,p,f,m){var g=(0,n.up)("InputFile"),h=(0,n.Q2)("tabindex");return(0,n.wg)(),(0,n.iD)("div",a,[e.getModalFeedback?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[l,(0,n._)("div",null,[(0,n._)("div",u,[(0,n.wy)((0,n._)("input",{class:"vita-input","aria-label":"Ваше имя",type:"text",autocomplete:"off",placeholder:"Ваше имя","onUpdate:modelValue":t[0]||(t[0]=function(e){return f.name=e})},null,512),[[o.nr,f.name]]),(0,n.wy)((0,n._)("input",{class:"vita-input","aria-label":"Ваше место жительства",type:"text",autocomplete:"off",placeholder:"Ваше место жительства","onUpdate:modelValue":t[1]||(t[1]=function(e){return f.city=e})},null,512),[[o.nr,f.city]]),(0,n.wy)((0,n._)("input",{class:(0,i.C_)(["vita-input",f.errors.email?"vita-input--error":""]),"aria-label":"Ваш e-mail",type:"email",autocomplete:"off",placeholder:"Ваш e-mail","onUpdate:modelValue":t[2]||(t[2]=function(e){return f.email=e}),onClick:t[3]||(t[3]=function(e){return f.errors.email=!1})},null,2),[[o.nr,f.email]]),(0,n.wy)((0,n.Wm)(g,null,null,512),[[h]]),(0,n.wy)((0,n._)("textarea",{class:(0,i.C_)(["vita-input",f.errors.text?"vita-input--error":""]),"aria-label":"Ваш отзыв",type:"email",placeholder:"Ваш отзыв...",rows:"7","onUpdate:modelValue":t[4]||(t[4]=function(e){return f.text=e}),style:{resize:"none"},onClick:t[5]||(t[5]=function(e){return f.errors.text=!1})},null,2),[[o.nr,f.text]])]),(0,n._)("button",{disabled:!(this.text&&this.city&&this.email&&this.name||f.errors.email||f.errors.text),class:"button",onClick:t[6]||(t[6]=function(e){return m.validateForm()})},c,8,s),d])],64)):(0,n.kq)("v-if",!0)])}]])}}]);